version: 2

models:
  # Arbitrum Models
  - name: silver_protocols__chainlink_arbitrum_ccip_send_requested_logs_v1
    description: Chainlink CCIP (Cross-Chain Interoperability Protocol) v1 send requested logs on Arbitrum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Arbitrum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Arbitrum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Arbitrum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_ocr_reward_daily
    description: Daily Chainlink OCR (Off-Chain Reporting) rewards on Arbitrum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Arbitrum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_arbitrum_vrf_request_fulfilled_logs
    description: Chainlink VRF (Verifiable Random Function) request fulfilled logs on Arbitrum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Avalanche Models
  - name: silver_protocols__chainlink_avalanche_automation_upkeep_performed_logs
    description: Chainlink Automation upkeep performed logs on Avalanche
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on Avalanche
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Avalanche
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Avalanche
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Avalanche
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_ocr_reward_daily
    description: Daily Chainlink OCR rewards on Avalanche
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Avalanche
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_avalanche_vrf_request_fulfilled_logs
    description: Chainlink VRF request fulfilled logs on Avalanche
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Base Models
  - name: silver_protocols__chainlink_base_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on Base
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_base_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Base
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # BSC Models
  - name: silver_protocols__chainlink_bsc_automation_upkeep_performed_logs
    description: Chainlink Automation upkeep performed logs on BSC
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on BSC
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on BSC
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on BSC
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on BSC
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_ocr_reward_daily
    description: Daily Chainlink OCR rewards on BSC
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on BSC
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_bsc_vrf_request_fulfilled_logs
    description: Chainlink VRF request fulfilled logs on BSC
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Ethereum Models
  - name: silver_protocols__chainlink_ethereum_automation_upkeep_performed_logs
    description: Chainlink Automation upkeep performed logs on Ethereum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on Ethereum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Ethereum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Ethereum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Ethereum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_ocr_reward_daily
    description: Daily Chainlink OCR rewards on Ethereum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Ethereum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_vrf_request_fulfilled_logs
    description: Chainlink VRF request fulfilled logs on Ethereum
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_ethereum_staking_rewards
    description: >
      Chainlink staking rewards on Ethereum.
      Tracks rewards from both V1 (RewardClaimed) and V2 (RewardsVault) staking contracts.
    columns:
      - name: date
        tests:
          - not_null
          - unique
      - name: chain
        tests:
          - not_null
      - name: staking_rewards_native
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_treasury_native_usd
    description: >
      Chainlink Treasury balance in LINK and USD.
      Tracks cumulative balance in non-circulating supply addresses.
    columns:
      - name: date
        tests:
          - not_null
          - unique
      - name: treasury_link
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_tvl_native_usd
    description: >
      Chainlink Total Value Locked (TVL) in LINK and USD.
      Tracks balances in key staking contracts on Ethereum.
    columns:
      - name: date
        tests:
          - not_null
          - unique
      - name: balance_link
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Gnosis Models
  - name: silver_protocols__chainlink_gnosis_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Gnosis
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_gnosis_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Gnosis
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_gnosis_ocr_reward_daily
    description: Daily Chainlink OCR rewards on Gnosis
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_gnosis_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Gnosis
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Optimism Models
  - name: silver_protocols__chainlink_optimism_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on Optimism
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Optimism
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Optimism
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Optimism
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_ocr_reward_daily
    description: Daily Chainlink OCR rewards on Optimism
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Optimism
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_optimism_vrf_request_fulfilled_logs
    description: Chainlink VRF request fulfilled logs on Optimism
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  # Polygon Models
  - name: silver_protocols__chainlink_polygon_automation_upkeep_performed_logs
    description: Chainlink Automation upkeep performed logs on Polygon
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_ccip_send_requested_logs_v1
    description: Chainlink CCIP v1 send requested logs on Polygon
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_ccip_send_requested_logs_v1_2
    description: Chainlink CCIP v1.2 send requested logs on Polygon
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_direct_rewards_daily
    description: Daily Chainlink direct operator rewards on Polygon
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_fm_reward_daily
    description: Daily Chainlink Flux Monitor rewards on Polygon
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_ocr_reward_daily
    description: Daily Chainlink OCR rewards on Polygon
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
            - operator_address
            - token_address
    columns:
      - name: date
        tests:
          - not_null
      - name: operator_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_ocr_reward_transmission_logs
    description: Chainlink OCR reward transmission logs on Polygon
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_vrf_request_fulfilled_logs
    description: Chainlink VRF request fulfilled logs on Polygon
    columns:
      - name: _log_id
        tests:
          - not_null
          - unique
      - name: block_timestamp
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null

  - name: silver_protocols__chainlink_polygon_ocr_reconcile_daily
    description: >
      Chainlink Polygon OCR reconciliation data.
      Contains historical reconciliation adjustments for operator payments from October 2023.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_start
            - admin_address
    columns:
      - name: date_start
        tests:
          - not_null
      - name: admin_address
        tests:
          - not_null
      - name: inserted_timestamp
        tests:
          - not_null
      - name: _invocation_id
        tests:
          - not_null
